/**
 * constants.js
 * Константы для сервиса планирования уведомлений
 */

// Базовые параметры приложения
const APP_CONFIG = {
  PORT: process.env.PORT || 3001,
  NODE_ENV: process.env.NODE_ENV || "development",
  VERSION: "1.0.0",
  SERVICE_NAME: "notification-scheduler-service",
  BASE_URL: process.env.BASE_URL || "http://localhost:3001",
  MAIN_SERVICE_URL: process.env.MAIN_SERVICE_URL || "http://localhost:3000",
  API_SECRET_KEY: process.env.API_SECRET_KEY || "your-secure-key",
  REDIS_URL: process.env.REDIS_URL || "redis://127.0.0.1:6379",
};

// MongoDB конфигурация
const DB_CONFIG = {
  URI:
    process.env.MONGODB_URI ||
    "mongodb://localhost:27017/notification-scheduler",
  OPTIONS: {
    useNewUrlParser: true,
    useUnifiedTopology: true,
  },
};

// Bull конфигурация
const BULL_CONFIG = {
  DEFAULT_JOB_OPTIONS: {
    attempts: 3,
    backoff: {
      type: "exponential",
      delay: 60000, // 1 минута
    },
    removeOnComplete: true,
    removeOnFail: false,
  },
  // Названия очередей
  QUEUES: {
    SMS: "sms-notifications",
    EMAIL: "email-notifications",
    PUSH: "push-notifications",
    AI_CALL: "ai-call-notifications",
    STATUS_CHECK: "credit-status-check",
  },
  // Приоритеты
  PRIORITIES: {
    HIGH: 1,
    MEDIUM: 2,
    LOW: 3,
  },
};

// Константы для стратегии уведомлений
const NOTIFICATION_STRATEGY = {
  // Фазы стратегии
  PHASES: {
    PREVENTIVE: "preventive",
    EARLY_DELAY: "early_delay",
    MEDIUM_DELAY: "medium_delay",
    LATE_DELAY: "late_delay",
  },

  // Каналы коммуникации
  CHANNELS: {
    SMS: "sms",
    EMAIL: "email",
    PUSH: "push",
    AI_CALL: "ai_call",
  },

  // Дни для различных фаз
  DAYS: {
    PREVENTIVE: [-5, -3, -2, -1, 0],
    EARLY_DELAY: [1, 2, 3, 4, 5, 6, 7],
    MEDIUM_DELAY: [8, 9, 10, 11, 12, 13, 14, 15],
    LATE_DELAY: [16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30],
  },

  // Каналы для каждого дня в превентивной фазе
  PREVENTIVE_PHASE_CHANNELS: {
    "-5": ["push"],
    "-3": ["email"],
    "-2": ["sms"],
    "-1": ["push", "sms"],
    0: ["email", "sms"],
  },

  // Каналы для каждого дня в фазе ранней просрочки
  EARLY_DELAY_PHASE_CHANNELS: {
    1: ["sms", "email"],
    2: ["push", "sms"],
    3: ["email"],
    4: ["sms", "ai_call"],
    5: ["push", "email"],
    6: ["sms"],
    7: ["email", "ai_call"],
  },

  // Каналы для каждого дня в фазе средней просрочки
  MEDIUM_DELAY_PHASE_CHANNELS: {
    8: ["sms", "push"],
    9: ["email"],
    10: ["sms", "ai_call"],
    11: ["push"],
    12: ["email"],
    13: ["sms"],
    14: ["ai_call", "email"],
    15: ["sms", "push", "email"],
  },

  // Каналы для каждого дня в фазе поздней просрочки
  LATE_DELAY_PHASE_CHANNELS: {
    16: ["email"],
    17: ["sms"],
    18: ["sms"],
    19: ["ai_call"],
    20: ["email", "sms"],
    21: ["sms", "push"],
    22: ["sms", "push"],
    23: ["sms", "push"],
    24: ["email"],
    25: ["sms", "ai_call"],
    26: ["sms", "ai_call"],
    27: ["sms", "email", "push"],
    28: ["sms", "email", "push"],
    29: ["sms", "email", "push"],
    30: ["sms", "email", "push", "ai_call"],
  },

  // Максимальное количество отправляемых уведомлений в день (согласно правовым ограничениям)
  MAX_NOTIFICATIONS_PER_DAY: 3,

  // Временные ограничения для отправки уведомлений
  TIME_CONSTRAINTS: {
    START_HOUR: 8, // начало отправки в 8:00
    END_HOUR: 22, // конец отправки в 22:00
    WEEKEND_ENABLED: false, // отключить отправку в выходные
    HOLIDAYS_ENABLED: false, // отключить отправку в праздники
  },
};

// Статусы кредитов
const CREDIT_STATUSES = {
  ACTIVE: "active", // активный кредит
  PENDING: "pending", // ожидает подтверждения
  OVERDUE: "overdue", // просрочен
  CLOSED: "closed", // закрыт (погашен полностью)
  CANCELLED: "cancelled", // отменен
  RESTRUCTURED: "restructured", // реструктуризирован
};

// Статусы уведомлений
const NOTIFICATION_STATUSES = {
  SCHEDULED: "scheduled", // запланировано
  SENT: "sent", // отправлено
  FAILED: "failed", // ошибка отправки
  CANCELLED: "cancelled", // отменено
};

// Типы уведомлений
const NOTIFICATION_TYPES = {
  PAYMENT_REMINDER: "payment_reminder", // напоминание о платеже
  OVERDUE_NOTICE: "overdue_notice", // уведомление о просрочке
  LEGAL_WARNING: "legal_warning", // юридическое предупреждение
  RESTRUCTURING_OFFER: "restructuring_offer", // предложение реструктуризации
  SALE_WARNING: "sale_warning", // предупреждение о продаже долга
  FINAL_NOTICE: "final_notice", // финальное уведомление
};

// Коды ошибок API
const API_ERROR_CODES = {
  BAD_REQUEST: 400,
  UNAUTHORIZED: 401,
  FORBIDDEN: 403,
  NOT_FOUND: 404,
  INTERNAL_SERVER_ERROR: 500,
  SERVICE_UNAVAILABLE: 503,
};

// Сообщения об ошибках
const ERROR_MESSAGES = {
  CREDIT_NOT_FOUND: "Кредит не найден",
  BORROWER_NOT_FOUND: "Заемщик не найден",
  INVALID_CREDIT_ID: "Неверный ID кредита",
  INVALID_BORROWER_ID: "Неверный ID заемщика",
  NOTIFICATION_PLAN_NOT_FOUND: "План уведомлений не найден",
  NOTIFICATION_ALREADY_SENT: "Уведомление уже отправлено",
  DATABASE_ERROR: "Ошибка базы данных",
  REDIS_CONNECTION_ERROR: "Ошибка подключения к Redis",
  BULL_QUEUE_ERROR: "Ошибка очереди Bull",
  INVALID_API_KEY: "Неверный API ключ",
  MISSING_REQUIRED_FIELDS: "Отсутствуют обязательные поля",
};

// Интервалы времени (в миллисекундах)
const TIME_INTERVALS = {
  ONE_MINUTE: 60 * 1000,
  FIVE_MINUTES: 5 * 60 * 1000,
  FIFTEEN_MINUTES: 15 * 60 * 1000,
  ONE_HOUR: 60 * 60 * 1000,
  ONE_DAY: 24 * 60 * 60 * 1000,
};

// Конфигурация для проверки статуса кредита
const CREDIT_STATUS_CHECK = {
  // Как часто проверять статус кредита (ms)
  CHECK_INTERVAL: process.env.CREDIT_STATUS_CHECK_INTERVAL || 15 * 60 * 1000, // 15 минут
  // Максимальное количество проверок за раз
  BATCH_SIZE: process.env.CREDIT_STATUS_CHECK_BATCH_SIZE || 1000,
};

// Конфигурация для отправки уведомлений

const MESSAGE_TEMPLATES = {
  // ПРЕВЕНТИВНАЯ ФАЗА (до наступления срока платежа)
  PREVENTIVE: {
    "-5": {
      push: "Напоминаем: через 5 дней наступает срок платежа по займу №{{creditNumber}}. Сумма к оплате: {{amount}} {{currency}}.",
    },
    "-3": {
      email:
        "Уважаемый клиент, напоминаем о приближающемся сроке платежа. Просим убедиться в наличии достаточных средств для его исполнения.",
    },
    "-2": {
      sms: "Через 2 дня наступает срок платежа. Избегайте негативных последствий - обеспечьте наличие средств на счете.",
    },
    "-1": {
      push: "ВНИМАНИЕ: Завтра последний день для внесения платежа по займу №{{creditNumber}}. Несвоевременная оплата повлечет финансовые и репутационные последствия.",
      sms: "ВНИМАНИЕ: Завтра последний день для внесения платежа по займу №{{creditNumber}}. Несвоевременная оплата повлечет финансовые и репутационные последствия.",
    },
    0: {
      email:
        "СЕГОДНЯ последний день для внесения платежа по займу №{{creditNumber}}. Неуплата влечет немедленное начисление штрафов и негативное влияние на ваш кредитный профиль.",
      sms: "СЕГОДНЯ последний день для внесения платежа по займу №{{creditNumber}}. Неуплата влечет немедленное начисление штрафов и негативное влияние на ваш кредитный профиль.",
    },
  },

  // ФАЗА РАННЕЙ ПРОСРОЧКИ (1-7 дней)
  EARLY_DELAY: {
    1: {
      sms: "УВЕДОМЛЕНИЕ О ПРОСРОЧКЕ: Зафиксировано нарушение договорных обязательств по займу №{{creditNumber}}. Срочно погасите задолженность во избежание негативных последствий.",
      email:
        "УВЕДОМЛЕНИЕ О ПРОСРОЧКЕ: Зафиксировано нарушение договорных обязательств по займу №{{creditNumber}}. Срочно погасите задолженность во избежание негативных последствий.",
    },
    2: {
      push: "Ваш займ №{{creditNumber}} переведен в статус 'Просрочен'. Доступ к новым займам ЗАБЛОКИРОВАН. Для разблокировки немедленно погасите задолженность.",
      sms: "Ваш займ №{{creditNumber}} переведен в статус 'Просрочен'. Доступ к новым займам ЗАБЛОКИРОВАН. Для разблокировки немедленно погасите задолженность.",
    },
    3: {
      email:
        "ВАЖНО: Информируем о запуске процедуры взыскания по займу №{{creditNumber}}. В течение 24 часов ваши данные будут переданы в Службу кредитного мониторинга для фиксации в реестре проблемных заемщиков.",
    },
    4: {
      sms: "ВНИМАНИЕ: Зафиксирована ваша неплатежеспособность. Информация может быть передана другим кредиторам в рамках межбанковского обмена данными согласно Директиве ЕС 2014/59/EU.",
      ai_call:
        "ВНИМАНИЕ: Зафиксирована ваша неплатежеспособность. Информация может быть передана другим кредиторам в рамках межбанковского обмена данными согласно Директиве ЕС 2014/59/EU.",
    },
    5: {
      push: "ПОСЛЕДНЕЕ НАПОМИНАНИЕ перед активацией процедуры переуступки долга. Избегайте дополнительных издержек - погасите задолженность сегодня.",
      email:
        "ПОСЛЕДНЕЕ НАПОМИНАНИЕ перед активацией процедуры переуступки долга. Избегайте дополнительных издержек - погасите задолженность сегодня.",
    },
    6: {
      sms: "СРОЧНО: Сегодня последний день перед передачей вашего дела специализированному отделу взыскания. Погасите долг для предотвращения эскалации мер.",
    },
    7: {
      email:
        "УВЕДОМЛЕНИЕ О ПЕРЕВОДЕ ВАШЕГО ДЕЛА: Ваша задолженность передана в отдел взыскания. Начислены штрафные санкции согласно п.4.7 Договора. По вопросу урегулирования свяжитесь с нами в течение 24 часов.",
      ai_call:
        "УВЕДОМЛЕНИЕ О ПЕРЕВОДЕ ВАШЕГО ДЕЛА: Ваша задолженность передана в отдел взыскания. Начислены штрафные санкции согласно п.4.7 Договора. По вопросу урегулирования свяжитесь с нами в течение 24 часов.",
    },
  },

  // ФАЗА СРЕДНЕЙ ПРОСРОЧКИ (8-15 дней)
  MEDIUM_DELAY: {
    8: {
      sms: "УВЕДОМЛЕНИЕ ОТ СЛУЖБЫ ВЗЫСКАНИЯ: Зафиксировано уклонение от погашения займа №{{creditNumber}}. Предлагаем последнюю возможность урегулирования до применения полного комплекса мер взыскания.",
      push: "УВЕДОМЛЕНИЕ ОТ СЛУЖБЫ ВЗЫСКАНИЯ: Зафиксировано уклонение от погашения займа №{{creditNumber}}. Предлагаем последнюю возможность урегулирования до применения полного комплекса мер взыскания.",
    },
    9: {
      email:
        "ОФИЦИАЛЬНОЕ УВЕДОМЛЕНИЕ: Инициирована процедура внесения данных в Европейский реестр проблемных заемщиков (ERDB) согласно Регламенту ЕС 2016/679. Для отмены процедуры необходимо погасить задолженность в течение 48 часов.",
    },
    10: {
      sms: "ПРЕДУПРЕЖДЕНИЕ: Ваш долг квалифицирован как 'проблемный актив'. Начата подготовка к выставлению на аукцион долговых обязательств с передачей всех прав требования третьим лицам.",
      ai_call:
        "ПРЕДУПРЕЖДЕНИЕ: Ваш долг квалифицирован как 'проблемный актив'. Начата подготовка к выставлению на аукцион долговых обязательств с передачей всех прав требования третьим лицам.",
    },
    11: {
      push: "ВНИМАНИЕ: Для вашего займа №{{creditNumber}} активирован протокол предаукционной оценки. После продажи долга условия взыскания определяются новым кредитором.",
    },
    12: {
      email:
        "ПОСЛЕДНЕЕ ПРЕДЛОЖЕНИЕ ПО УРЕГУЛИРОВАНИЮ: В связи с подготовкой к продаже вашего долга предлагаем возможность пролонгации/реструктуризации. Данное предложение действительно 24 часа. Дальнейшие условия будут определяться новым держателем долга.",
    },
    13: {
      sms: "КРИТИЧЕСКИЙ СТАТУС займа №{{creditNumber}}. Ваше бездействие зафиксировано и будет использовано при составлении юридического заключения.",
    },
    14: {
      ai_call:
        "УВЕДОМЛЕНИЕ О ФИНАЛЬНОЙ ПОДГОТОВКЕ К АУКЦИОНУ: Ваш долг по займу №{{creditNumber}} включен в пакет активов для продажи профессиональным взыскателям. После передачи долга все вопросы урегулирования будут в компетенции нового кредитора.",
      email:
        "УВЕДОМЛЕНИЕ О ФИНАЛЬНОЙ ПОДГОТОВКЕ К АУКЦИОНУ: Ваш долг по займу №{{creditNumber}} включен в пакет активов для продажи профессиональным взыскателям. После передачи долга все вопросы урегулирования будут в компетенции нового кредитора.",
    },
    15: {
      sms: "ПОСЛЕДНИЙ ДЕНЬ ДЛЯ САМОСТОЯТЕЛЬНОГО УРЕГУЛИРОВАНИЯ. После продажи долга условия погашения могут включать дополнительные юридические процедуры согласно законодательству Словакии и ЕС.",
      push: "ПОСЛЕДНИЙ ДЕНЬ ДЛЯ САМОСТОЯТЕЛЬНОГО УРЕГУЛИРОВАНИЯ. После продажи долга условия погашения могут включать дополнительные юридические процедуры согласно законодательству Словакии и ЕС.",
      email:
        "ПОСЛЕДНИЙ ДЕНЬ ДЛЯ САМОСТОЯТЕЛЬНОГО УРЕГУЛИРОВАНИЯ. После продажи долга условия погашения могут включать дополнительные юридические процедуры согласно законодательству Словакии и ЕС.",
    },
  },

  // ФАЗА ПОЗДНЕЙ ПРОСРОЧКИ (16-30 дней)
  LATE_DELAY: {
    16: {
      email:
        "УВЕДОМЛЕНИЕ О ПЕРЕУСТУПКЕ ПРАВ ТРЕБОВАНИЯ: Информируем о начале процедуры переуступки прав требования по займу №{{creditNumber}}. Аукцион назначен на {{auctionDate}}. Погашение долга до указанной даты предотвратит переуступку.",
    },
    17: {
      sms: "ВНИМАНИЕ: Осталось {{remainingDays}} дней до аукциона по продаже вашего долга. После продажи все переговоры становятся невозможными.",
    },
    18: {
      sms: "ВНИМАНИЕ: Осталось {{remainingDays}} дней до аукциона по продаже вашего долга. После продажи все переговоры становятся невозможными.",
    },
    19: {
      ai_call:
        "Уведомляем, что ваш профиль отмечен в системе как 'Злостный неплательщик'. Данный статус влияет на все финансовые операции в банковской системе ЕС.",
    },
    20: {
      email:
        "ПРЕДАУКЦИОННОЕ УВЕДОМЛЕНИЕ: Подготовлен полный пакет документов для продажи вашего долга. Включена вся информация о ваших активах и финансовом поведении для облегчения процедуры взыскания новым кредитором.",
      sms: "ПРЕДАУКЦИОННОЕ УВЕДОМЛЕНИЕ: Подготовлен полный пакет документов для продажи вашего долга. Включена вся информация о ваших активах и финансовом поведении для облегчения процедуры взыскания новым кредитором.",
    },
    21: {
      sms: "Ваш долг будет продан через {{remainingDays}} дней. После продажи все предложения по урегулированию аннулируются.",
      push: "Ваш долг будет продан через {{remainingDays}} дней. После продажи все предложения по урегулированию аннулируются.",
    },
    22: {
      sms: "Ваш долг будет продан через {{remainingDays}} дней. После продажи все предложения по урегулированию аннулируются.",
      push: "Ваш долг будет продан через {{remainingDays}} дней. После продажи все предложения по урегулированию аннулируются.",
    },
    23: {
      sms: "Ваш долг будет продан через {{remainingDays}} дней. После продажи все предложения по урегулированию аннулируются.",
      push: "Ваш долг будет продан через {{remainingDays}} дней. После продажи все предложения по урегулированию аннулируются.",
    },
    24: {
      email:
        "ПРЕДУПРЕЖДЕНИЕ ОТ ЮРИДИЧЕСКОГО ОТДЕЛА: Подготовлены материалы для передачи профессиональным взыскателям, включая юридическое заключение о ваших намеренных действиях по уклонению от исполнения обязательств.",
    },
    25: {
      sms: "КРИТИЧЕСКАЯ ФАЗА: Ваш долг находится в финальной стадии подготовки к продаже. После продажи взыскание будет осуществляться в максимально жестком правовом режиме.",
      ai_call:
        "КРИТИЧЕСКАЯ ФАЗА: Ваш долг находится в финальной стадии подготовки к продаже. После продажи взыскание будет осуществляться в максимально жестком правовом режиме.",
    },
    26: {
      sms: "КРИТИЧЕСКАЯ ФАЗА: Ваш долг находится в финальной стадии подготовки к продаже. После продажи взыскание будет осуществляться в максимально жестком правовом режиме.",
      ai_call:
        "КРИТИЧЕСКАЯ ФАЗА: Ваш долг находится в финальной стадии подготовки к продаже. После продажи взыскание будет осуществляться в максимально жестком правовом режиме.",
    },
    27: {
      sms: "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
      push: "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
      email:
        "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
    },
    28: {
      sms: "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
      push: "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
      email:
        "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
    },
    29: {
      sms: "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
      push: "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
      email:
        "АУКЦИОН ЧЕРЕЗ {{remainingDays}} ДНЕЙ: Погасите задолженность сейчас, чтобы избежать многолетних процедур взыскания со стороны профессиональных коллекторских служб.",
    },
    30: {
      sms: "УВЕДОМЛЕНИЕ О ПРОДАЖЕ ДОЛГА: Ваш долг по займу №{{creditNumber}} продан компании {{companyName}}. Все дальнейшие взаимодействия будут осуществляться с новым кредитором, обладающим полным правом требования согласно законодательству ЕС.",
      email:
        "УВЕДОМЛЕНИЕ О ПРОДАЖЕ ДОЛГА: Ваш долг по займу №{{creditNumber}} продан компании {{companyName}}. Все дальнейшие взаимодействия будут осуществляться с новым кредитором, обладающим полным правом требования согласно законодательству ЕС.",
      push: "УВЕДОМЛЕНИЕ О ПРОДАЖЕ ДОЛГА: Ваш долг по займу №{{creditNumber}} продан компании {{companyName}}. Все дальнейшие взаимодействия будут осуществляться с новым кредитором, обладающим полным правом требования согласно законодательству ЕС.",
      ai_call:
        "УВЕДОМЛЕНИЕ О ПРОДАЖЕ ДОЛГА: Ваш долг по займу №{{creditNumber}} продан компании {{companyName}}. Все дальнейшие взаимодействия будут осуществляться с новым кредитором, обладающим полным правом требования согласно законодательству ЕС.",
    },
  },

  // Шаблоны для дополнительных предложений по урегулированию
  SETTLEMENT_OFFERS: {
    PROLONGATION: {
      sms: "Предлагаем пролонгацию вашего займа №{{creditNumber}}. Для активации необходимо внести {{minPaymentAmount}} {{currency}} ({{minPaymentPercent}}% от суммы долга). Предложение действительно 24 часа.",
      email:
        "Уважаемый клиент! Предлагаем воспользоваться возможностью пролонгации вашего займа №{{creditNumber}}. Для активации услуги необходимо внести минимальный платеж в размере {{minPaymentAmount}} {{currency}}, что составляет {{minPaymentPercent}}% от суммы вашей текущей задолженности. Обращаем ваше внимание, что данное предложение имеет ограниченный срок действия и доступно в течение 24 часов.",
    },
    RESTRUCTURING: {
      sms: "Предлагаем реструктуризацию вашего долга по займу №{{creditNumber}}. Разделение долга на {{installmentsCount}} платежей. Для активации свяжитесь с нами в течение 24 часов.",
      email:
        "Уважаемый клиент! В связи с имеющейся задолженностью по займу №{{creditNumber}}, предлагаем воспользоваться программой реструктуризации. Мы готовы разделить ваш долг на {{installmentsCount}} ежемесячных платежей с новым графиком погашения. Для активации данного предложения и получения подробных условий, пожалуйста, свяжитесь с нами в течение 24 часов.",
    },
    DISCOUNT: {
      sms: "СПЕЦИАЛЬНОЕ ПРЕДЛОЖЕНИЕ: Погасите ваш долг по займу №{{creditNumber}} со скидкой {{discountPercent}}%! Для получения скидки оплатите полную сумму в течение 48 часов.",
      email:
        "СПЕЦИАЛЬНОЕ ПРЕДЛОЖЕНИЕ ПО ПОГАШЕНИЮ ЗАДОЛЖЕННОСТИ! Уважаемый клиент, мы готовы предоставить вам скидку в размере {{discountPercent}}% от суммы вашей текущей задолженности по займу №{{creditNumber}} при условии единовременного погашения всей суммы в течение 48 часов. Это ограниченное по времени предложение доступно только до {{expiryDate}}.",
    },
  },

  // Служебные шаблоны для системных уведомлений
  SYSTEM: {
    CREDIT_CLOSED: {
      sms: "Ваш займ №{{creditNumber}} полностью погашен. Благодарим за своевременную оплату!",
      email:
        "Уважаемый клиент! Информируем вас о полном погашении займа №{{creditNumber}}. Благодарим за своевременное выполнение обязательств. Ваша кредитная история успешно обновлена.",
      push: "Займ №{{creditNumber}} успешно погашен. Спасибо за сотрудничество!",
    },
    PAYMENT_RECEIVED: {
      sms: "Получен платеж {{amount}} {{currency}} по займу №{{creditNumber}}. Текущая задолженность: {{remainingAmount}} {{currency}}.",
      email:
        "Уважаемый клиент! Мы получили ваш платеж в размере {{amount}} {{currency}} по займу №{{creditNumber}}. Текущий остаток задолженности составляет {{remainingAmount}} {{currency}}. Благодарим за оплату!",
      push: "Платеж {{amount}} {{currency}} по займу №{{creditNumber}} получен.",
    },
    CREDIT_STATUS_CHANGE: {
      sms: 'Статус вашего займа №{{creditNumber}} изменен на "{{newStatus}}". Для получения подробной информации войдите в личный кабинет.',
      email:
        'Уважаемый клиент! Уведомляем вас об изменении статуса вашего займа №{{creditNumber}} на "{{newStatus}}". Для получения детальной информации о вашем займе, пожалуйста, войдите в личный кабинет на нашем сайте.',
    },
  },
};

// Шаблоны для email уведомлений

const EMAIL_TEMPLATE_MAP = {
  password: {
    Fastcredit: 2,
    Fini: 8,
    Uveria: 20,
    Finzap: 21,
    CreditMarket: 19,
  },
  code: {
    Fastcredit: 3,
    Fini: 9,
    Uveria: 14,
    Finzap: 12,
    CreditMarket: 13,
  },
  "new-password": {
    Fastcredit: 4,
    Fini: 10,
    Uveria: 17,
    Finzap: 16,
    CreditMarket: 18,
  },
  notification: {
    CreditMarket: 22,
  },
};

// Экспорт всех констант
export {
  APP_CONFIG,
  DB_CONFIG,
  BULL_CONFIG,
  NOTIFICATION_STRATEGY,
  CREDIT_STATUSES,
  NOTIFICATION_STATUSES,
  NOTIFICATION_TYPES,
  API_ERROR_CODES,
  ERROR_MESSAGES,
  TIME_INTERVALS,
  CREDIT_STATUS_CHECK,
  MESSAGE_TEMPLATES,
  EMAIL_TEMPLATE_MAP,
};
